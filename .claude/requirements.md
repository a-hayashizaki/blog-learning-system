# Blog Learning System - 要件定義書

## プロジェクト概要

### 目的
高頻度でブログを書きたいユーザーが、AI学習機能により記事品質を継続的に向上させるシステム。コーチングやセルフコンパッションの実体験を共有するブログに特化。

### 目標
- 週2-3回の記事投稿ペースを維持
- 繰り返し学習により記事品質を向上
- 自己評価と外部反応（note）の両方から学習
- 起承転結がしっかりした体験共有型記事の生成

## 核心機能

### 1. 記事生成ワークフロー
```
気づきメモ → AI対話で骨格作成 → 学習済み調整指示適用 → 記事完成
```

**現在の課題**: 毎回異なる調整指示（「体験をもっと多めに」「言葉を丁寧にしすぎない」等）を手動で出すため品質がブレる

**解決方法**: 過去の成功パターンを学習し、調整指示を自動生成

### 2. 学習システム（最重要機能）
**2段階での学習アプローチ**:
- **Phase 1**: プロンプト方式（シンプル、すぐ実装）
- **Phase 2**: ベクター埋め込み方式（高精度、将来実装）

**学習データ**:
- 自己フィードバック（5段階評価 + コメント）
- note外部反応（ビュー数、いいね数、コメント数・内容）
- 記事生成パラメータ（体験描写比率、語調、構成等）

### 3. note API連携
- 毎日自動でnote記事の反応データを取得
- 記事投稿は手動、データ取得は自動
- note認証設定済み

### 4. データ可視化・分析
- 過去記事の傾向分析（「最近の記事は体験描写が弱い傾向」等）
- 品質向上の推移グラフ
- テーマ別パフォーマンス分析

## 技術要件

### 技術スタック
- **フロントエンド**: React Router 7
- **データベース**: SQLite + Prisma
- **デプロイ**: ローカル環境（個人利用）
- **AI API**: Google Gemini
- **外部API**: note API

### 開発環境
- devcontainer + Claude Code
- TypeScript
- Tailwind CSS
- **UIデザイン**: Notion風エディタ型（執筆に集中できるシンプル設計）

### データ永続化
- 数年間のデータ保存
- 学習パターンの蓄積

## 学習ロジック詳細

### Phase 1: プロンプト方式学習
```javascript
// 例: 過去データから統計的にパターンを抽出
const pastResults = [
  { experienceRatio: 50, selfRating: 4, views: 120, likes: 15 },
  { experienceRatio: 30, selfRating: 3, views: 50, likes: 5 },
  // ...
];

// 高評価パターンを特定し、プロンプトに組み込み
const optimizedPrompt = `
過去の成功パターン:
- 体験描写45-50%で高評価
- カジュアル語調でエンゲージメント向上
- 具体例2-3個で共感度アップ

上記を参考に記事を調整してください
`;
```

### 学習要素
1. **体験描写比率**: 体験vs理論の最適バランス
2. **語調レベル**: 丁寧すぎない親しみやすさ
3. **構成パターン**: 起承転結の最適化
4. **テーマ別最適化**: コーチング vs セルフコンパッション
5. **エンゲージメント要因**: いいね・コメントを呼ぶ要素

### 評価軸
- **自己満足度**: 主観的品質（1-5段階）
- **リーチ力**: ビュー数
- **共感度**: いいね率
- **エンゲージメント**: コメント数・質

## データモデル

### Article（記事）
- 基本情報: タイトル、本文、元メモ、テーマ
- 生成パラメータ: 体験比率、カジュアル度、構成タイプ
- フィードバック: 自己評価、外部反応
- note連携: URL、ID、反応データ

### Feedback（フィードバック）
- 自己フィードバックと外部反応を統合管理

### LearningPattern（学習パターン）
- 成功パターンの抽出と効果測定

## UI/UXデザイン方針

### Notion風エディタ型デザイン
**選択理由**: 記事作成に最適化されたUX、執筆に集中できる環境

**主要な特徴**:
- **クリーンなヘッダー**: ロゴ、ステータス表示、公開ボタンのみ
- **大型タイトル入力**: 36pxの大きなフォントでインパクト重視
- **メタ情報表示**: 日付、テーマタグ、AI推奨パラメータを見やすく配置
- **気づきメモ section**: 黄色いアクセントで区別、書きやすい環境
- **AI生成記事section**: 青いヘッダーで明確に区別、編集・再生成ボタン付き
- **フィードバックエリア**: 記事下部に統合、5段階評価とコメント入力
- **フローティング学習情報**: 右下に固定、常に学習状況を確認可能

**色彩設計**:
- ベース: 白背景、グレー系テキスト
- アクセント: 青系（#3b82f6）でボタンとリンク
- 警告色: 黄色（#fbbf24）でメモセクション
- 成功色: 緑（#10b981）でステータス表示

**レイアウト**:
- 最大幅800px、中央配置
- 充分な余白（32px）で読みやすさ重視
- スティッキーヘッダーで常にアクション可能

### Phase 1: MVP（プロンプト学習）
1. 基本ワークフロー構築
2. 記事生成・保存機能
3. 自己フィードバック機能
4. 簡単な統計分析とプロンプト生成

### Phase 2: note連携
1. note API実装
2. 外部反応データ取得・蓄積
3. 多重フィードバック学習
4. データ可視化ダッシュボード

### Phase 3: 高度化
1. ベクター埋め込み学習
2. 予測モデル（予想ビュー数等）
3. トレンド分析
4. 高度な最適化アルゴリズム

## 成功指標

### 定量的指標
- 記事品質の継続的向上（自己評価平均の上昇）
- 外部反応の改善（ビュー数、いいね率の向上）
- 投稿頻度の維持（週2-3回）

### 定性的指標
- ユーザーの執筆負担軽減
- 品質の安定化（ブレの減少）
- 読者との共感・エンゲージメント向上

## 参考: 現在の手動調整パターン
ユーザーが現在AIに出している典型的な調整指示:
- "共感を重視するのでもっと体験を多めに記載して"
- "言葉を丁寧すぎない程度に"
- "会話形式のブログではなく私が記載したような形でアウトプットして"

これらの調整を学習により自動化することが本システムの核心価値。